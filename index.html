<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Lucky13</title>
    <link rel="stylesheet" type="text/css" href="css/styles_tp_nav.css" />
    <link rel="stylesheet" type="text/css" href="css/styles_tp_aboutus.css" />
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <style>
        h5 {
            align-content: center;
        }

        .std-img-size {
            height: 150px;
            width: 100%;
        }

        .meme-src-size {
            height: 50%;
            width: 150px;
        }
        td {
            cursor: pointer;
        }
    </style>
    <script src="js/database-scripts.js"></script>
    <script>
        window.onload = function (event) {
            // supply code for randomized features
            // supply code for top memes
        }
//<tr>
//    <td><a href="memepage.html"><img src="https://i.chzbgr.com/maxW500/8036471808/hBF364138/" class="img-thumbnail meme-src-size"></a></td>
//    <td>BasketBall, NBA, 2k14, Lebron</td>
//    <td><div class="rating">☆☆☆☆☆</div></td>
//</tr>
        function gotoMemePage(key) {
            document.cookie = "key=" + key;
            parent.location.href = "memepage.html";
        }// end function gotoMemePage

        function fuzzSearch() {
            var str = document.getElementById("filter").value;
            var body = document.getElementById("tableBody");
            while (body.firstChild) body.removeChild(body.firstChild);
            if (str.length > 2) {
                db.transaction(["memes"]).objectStore("memes").openCursor().onsuccess = function (event) {
                    var cursor = event.target.result;
                    var cell;
                    if (cursor) {
                        var candidate = cursor.value.hashs;
                        var patt = RegExp(str + "+")
                        if (candidate.match(patt)) {
                            cell = document.createElement("tr");
                            cell.setAttribute("onclick", "gotoMemePage(" + cursor.value.key + ");");
                            var tagCell = document.createElement("td");
                            var tagIMG = new Image();
                            tagIMG.src = cursor.value.url;
                            tagIMG.className = "img-thumbnail meme-src-size";
                            //var tagAnchor = document.createElement("a");
                            //tagAnchor.setAttribute("href", "memepage.html");
                            //tagAnchor.appendChild(tagIMG);
                            //tagCell.appendChild(tagAnchor);
                            tagCell.appendChild(tagIMG);
                            cell.appendChild(tagCell);

                            tagCell = document.createElement("td");
                            tagCell.textContent = "Tags:" + candidate;
                            cell.appendChild(tagCell);
                            body.appendChild(cell);
                        }
                        cursor.continue();
                    }
                }
            }
        }
    </script>
    <!-- Custom styles for this template -->
    <link href="css/starter-template.css" rel="stylesheet">
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href='index.html'><img id="logo" alt="" src="images/13.jpg"></a></li>
                <!--<li><a href='../index.html'><span>Home</span></a></li>-->
                <li class='active'><a href='index.html'><span>Home</span></a></li>
                <li><a href='submit.html'><span>Submit a Meme</span></a></li>
                <li><a href='create.html'><span>Create a New Meme</span></a></li>
                <li><a href='aboutus.html'><span>About Us</span></a></li>

                <li style="padding-left:50px">
                    <form class="form-inline" role="form">
                        <div class="form-group">
                            <label class="sr-only" for="signInEmail">Email address</label>
                            <input type="email" class="form-control" id="signInEmail" placeholder="Enter email">
                        </div>
                        <div class="form-group">
                            <label class="sr-only" for="signInPassword">Password</label>
                            <input type="password" class="form-control" id="signInPassword" placeholder="Password">
                        </div>
                        <div class="checkbox">
                        </div>
                        <button type="submit" class="btn btn-success">Sign in</button>
                    </form>
                </li>
                <li>
                    <button class="btn btn-danger" style="padding-left:5px" onclick="parent.location='register.html'">Sign Up</button>
                    <!--<li><a href='../dopamemes_website/index.html'><span>Our Page</span></a></li>-->
                    <!--<li class='last'><a href='../contact/contact.html'><span>Contact</span></a></li>-->
                </li>
            </ul>
        </nav>
    </header>
    <br><br><br>

    <div class="container1" style="margin-bottom:50px; float: left;">
        <!-- left content -->
        <h5>Featured Memes/Gifs</h5>
        <img class="img-thumbnail std-img-size" id="feat-1">
        <img class="img-thumbnail std-img-size" id="feat-2">
        <img class="img-thumbnail std-img-size" id="feat-3">
        <img class="img-thumbnail std-img-size" id="feat-4">
        <!-- left content end-->
    </div>
    <div class="container" style="margin-bottom:50px; float:left">

        <div class="input">
            <input id="filter" type="text" class="form-control" placeholder="Search by URL or Tags" onkeyup="fuzzSearch();">
        </div><br>

        <!-- Classes Info Class -->
        <div data-spy="scroll" data-target="#navbar-example2" data-offset="0" class="scrollspy-example fixed-box">
            <!-- Content for classes -->

            <table class="table table-hover classmates">
                <thead>
                    <tr>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <!--<tr>
                        <td><a href="memepage.html"><img src="https://i.chzbgr.com/maxW500/8036471808/hBF364138/" class="img-thumbnail meme-src-size"></a></td>
                        <td>BasketBall, NBA, 2k14, Lebron</td>
                        <td><div class="rating">☆☆☆☆☆</div></td>
                    </tr>
                    <tr>
                        <td><a href="memepage.html"><img src="https://i.chzbgr.com/maxW500/8036471808/hBF364138/" class="img-thumbnail meme-src-size"></a></td>
                        <td>BasketBall, NBA, 2k14, Lebron</td>
                        <td><div class="rating">☆☆☆☆☆</div></td>
                    </tr>
                    <tr>
                        <td><a href="memepage.html"><img src="https://i.chzbgr.com/maxW500/8036471808/hBF364138/" class="img-thumbnail meme-src-size"></a></td>
                        <td>BasketBall, NBA, 2k14, Lebron</td>
                        <td><div class="rating">☆☆☆☆☆</div></td>
                    </tr>-->
                    <tr>
                        <td><h1>Type something above to search!</h1></td>
                    </tr>
                </tbody>
            </table>

        </div>
        <!-- End content for classes -->
    </div>

    <div class="container2" style="margin-bottom:50px; float: left;">

        <!-- left content -->
        <h5>Popular Memes/Gifs</h5>
        <div class="popular">
            <img class="img-thumbnail std-img-size" id="pop-1">
            <img class="img-thumbnail std-img-size" id="pop-2">
            <img class="img-thumbnail std-img-size" id="pop-3">
            <img class="img-thumbnail std-img-size" id="pop-4">
        </div>
        <!-- left content end-->
    </div>
    <footer>
        <br><div style="padding-bottom:10px; text-align:center"><a href="index.html">&copy; 2014 Lucky13 . All rights reserved.</a> </div>
    </footer>
</body>
</html>